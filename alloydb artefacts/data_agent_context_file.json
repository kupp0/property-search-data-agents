{
  "templates": [
    {
      "nlQuery": "Show me apartments in Zurich up to 6k with min 2 rooms",
      "sql": "SELECT image_gcs_uri, id, title, description, bedrooms, price, city FROM property_listings WHERE LOWER(city) = LOWER('Zurich') AND price <= 6000 AND bedrooms >= 2 LIMIT 25;",
      "intent": "Find apartments filtered strictly by city, price, and room count without semantic search",
      "manifest": "Find property listings filtered by city, price, and bedroom count",
      "parameterized": {
        "parameterized_intent": "Show me apartments in $1 up to $2 with min $3 rooms",
        "parameterized_sql": "SELECT image_gcs_uri, id, title, description, bedrooms, price, city FROM property_listings WHERE LOWER(city) = LOWER($1) AND price <= $2 AND bedrooms >= $3 LIMIT 25;"
      }
    },
    {
      "nlQuery": "Show me lovely wooden cabin",
      "sql": "SELECT image_gcs_uri, id, title, description, bedrooms, price, city FROM property_listings ORDER BY ((0.6 * (1 - (description_embedding <=> embedding('gemini-embedding-001', 'Lovely wooden cabin')::vector))) + (0.4 * (1 - (image_embedding <=> ai.text_embedding(model_id => 'multimodalembedding@001', content => 'Lovely wooden cabbin')::vector)))) DESC LIMIT 25;",
      "intent": "Search for properties based solely on semantic and visual similarity to a text description",
      "manifest": "Find property listings ordered by semantic similarity to a search phrase",
      "parameterized": {
        "parameterized_intent": "Show me $1",
        "parameterized_sql": "SELECT image_gcs_uri, id, title, description, bedrooms, price, city FROM property_listings ORDER BY ((0.6 * (1 - (description_embedding <=> embedding('gemini-embedding-001', $1)::vector))) + (0.4 * (1 - (image_embedding <=> ai.text_embedding(model_id => 'multimodalembedding@001', content => $1)::vector)))) DESC LIMIT 25;"
      }
    },
    {
      "nlQuery": "Show me modern apartments in Zurich with industrial look up to 6k with min 2 rooms",
      "sql": "SELECT image_gcs_uri, id, title, description, bedrooms, price, city FROM property_listings WHERE LOWER(city) = LOWER('Zurich') AND price <= 6000 AND bedrooms >= 2 ORDER BY ((0.6 * (1 - (description_embedding <=> embedding('gemini-embedding-001', 'modern apartments with industrial look')::vector))) + (0.4 * (1 - (image_embedding <=> ai.text_embedding(model_id => 'multimodalembedding@001', content => 'modern apartments with industrial look')::vector)))) DESC LIMIT 25;",
      "intent": "Find apartments in a specific city with price and room constraints, ordered by visual and semantic similarity to a description",
      "manifest": "Find property listings in a given city with price and room limits, ordered by semantic similarity to a search phrase",
      "parameterized": {
        "parameterized_intent": "Show me $1 in $2 up to $3 with min $4 rooms",
        "parameterized_sql": "SELECT image_gcs_uri, id, title, description, bedrooms, price, city FROM property_listings WHERE LOWER(city) = LOWER($2) AND price <= $3 AND bedrooms >= $4 ORDER BY ((0.6 * (1 - (description_embedding <=> embedding('gemini-embedding-001', $1)::vector))) + (0.4 * (1 - (image_embedding <=> ai.text_embedding(model_id => 'multimodalembedding@001', content => $1)::vector)))) DESC LIMIT 25;"
      }
    }
  ],
  "fragments": [
    {
      "intent": "cheap",
      "fragment": "price <= 2500",
      "parameterized": {
        "parameterized_fragment": "price <= 2500",
        "parameterized_intent": "cheap"
      },
      "manifest": "Filter for budget price range",
      "comment": ""
    },
    {
      "intent": "family appartment",
      "fragment": "bedrooms >= 3",
      "parameterized": {
        "parameterized_fragment": "bedrooms >= 3",
        "parameterized_intent": "family appartment"
      },
      "manifest": "Filter for larger family-sized properties",
      "comment": ""
    },
    {
      "intent": "luxury",
      "fragment": "price >= 8000",
      "parameterized": {
        "parameterized_fragment": "price >= 8000",
        "parameterized_intent": "luxury"
      },
      "manifest": "Filter for luxury price range",
      "comment": ""
    },
    {
      "intent": "studio",
      "fragment": "bedrooms = 0",
      "parameterized": {
        "parameterized_fragment": "bedrooms = 0",
        "parameterized_intent": "studio"
      },
      "manifest": "Filter for studio apartments",
      "comment": ""
    }
  ]
}